!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(){const t=[],e=(e,r,o)=>{if(!n(t,[r,o])){const n=e.receiveAttack(r,o);return t.push([r,o]),n}},n=(t,e)=>t.some(t=>((t,e)=>t.length===e.length&&t.every((t,n)=>t===e[n]))(t,e));return{attack:e,generateAttackPosition:r=>{let o;const i=()=>Math.floor(Math.random()*r.size);do{o=[i(),i()]}while(n(t,o));e(r,...o)}}}function o(){const t=new Array(100).fill(!1),e=[],n=(n,r,o)=>{const i=function(t){const e=new Array(t).fill(!1);return{length:t,positions:e,hit:t=>e[t]=!0,isSunk:()=>e.every(t=>t)}}(n);e.push(i);i.positions.forEach((e,n)=>{t[r+(t=>o?10*t:t)(n)]={ship:i,shipPos:n,hit:!1}})},r=(e,n,r)=>{const o=t=>r?10*t:t,i=t=>c(t).some(t=>a(t)),u=(t,e)=>!r&&s(t)!==s(e),l=e=>void 0===t[e];for(let t=0;t<n;t++)if(a(e+o(t))||i(e+o(t))||u(e,e+o(t))||l(e+o(t)))return!1;return!0},o=(t,e)=>10*e+t,i=t=>t%10,s=t=>Math.floor(t/10),a=e=>"object"==typeof t[e],c=t=>{const e=(t,e)=>Math.abs(t-e)<=1;return(t=>[t-1,t+1,t-10,t+10,t-1-10,t+1-10,t-1+10,t+1+10])(t).filter(n=>e(i(n),i(t))&&e(s(n),s(t)))};return{board:t,size:10,placeShips:e=>{const o=t=>Math.floor(Math.random()*t);e.forEach(e=>{const i=(()=>Math.random()>=.5)();let s;do{s=o(t.length)}while(!r(s,e,i));n(e,s,i)})},receiveAttack:(e,n)=>{const r=o(e,n);if(a(r)){const e=t[r].ship,n=t[r].shipPos;return e.hit(n),t[r].hit=!0,e.isSunk()&&t.forEach((n,r)=>{n.ship===e&&c(r).forEach(e=>{!1===t[e]&&(t[e]=!0)})}),!0}return t[r]=!0,!1},isAllShipsSunk:()=>e.every(t=>t.isSunk())}}n.r(e);const i=document.querySelector(".board-1"),s=document.querySelector(".board-2"),a=document.querySelector(".reset"),c=document.querySelector(".messages");let u=!0;const l=(t,e)=>{const n=0===e?i:s;function r(t){const e=t.target.dataset.id;t.target.textContent||t.target.classList.contains("hit")||!u||h.playerTurn((t=>t%10)(e),(t=>Math.floor(t/10))(e))}[...n.children].forEach(t=>t.remove()),t.forEach((t,o)=>{const i=document.createElement("div");i.classList.add("cell"),i.dataset.id=o,1===e&&i.addEventListener("click",r),0===e&&t&&t.ship&&i.classList.add("ship"),!0===t&&(i.textContent="Â·"),t.hit&&i.classList.add("hit"),t&&t.ship&&t.ship.isSunk()&&i.classList.add("sunk"),n.appendChild(i)})},d=t=>{c.textContent=t},f=()=>{u=!1};n.d(e,"game",function(){return h});const h=function(t,e,n,r){const o=[4,3,3,2,2,2,1,1,1,1],i=()=>{e.generateAttackPosition(n),n.isAllShipsSunk()&&s("Computer"),l(n.board,0)},s=t=>{d(`${t} has won!`),f()};return{start:()=>{n.placeShips(o),r.placeShips(o),l(n.board,0),l(r.board,1)},playerTurn:(e,n)=>{const o=t.attack(r,e,n);r.isAllShipsSunk()&&s("Player"),l(r.board,1),o||i()}}}(r(),r(),o(),o());a.addEventListener("click",()=>location.reload()),h.start()}]);